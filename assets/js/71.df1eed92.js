(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{400:function(t,a,e){"use strict";e.r(a);var r=e(0),s=Object(r.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p",[t._v("工欲善其事，必先利其器。下面要开始用 "),e("a",{attrs:{href:"https://hexo.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Hexo"),e("OutboundLink")],1),t._v(" + "),e("a",{attrs:{href:"https://github.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub"),e("OutboundLink")],1),t._v(" 搭建自己的博客了。需要注意的是，网上的资料有一些已经过时，而现在的这篇文章也可能在以后过时，所以只将目前我搭建 hexo 博客站的经验总结如下。")]),t._v(" "),e("h2",{attrs:{id:"目标"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#目标"}},[t._v("#")]),t._v(" 目标")]),t._v(" "),e("p",[t._v("我们要使用 hexo 搭建一个个人博客项目，并使其部署在 "),e("a",{attrs:{href:"https://pages.github.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub Pages"),e("OutboundLink")],1),t._v(" 上（GitHub Pages是 GitHub 为开发者提供的免费托管网站的空间，这就使得我们不再需要额外购买独立的域名空间了，对于部署个人博客这样的小访问量网站来说极其方便，具体信息可以自行查询资料）。")]),t._v(" "),e("h2",{attrs:{id:"简易搭建方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#简易搭建方法"}},[t._v("#")]),t._v(" 简易搭建方法")]),t._v(" "),e("p",[t._v("从网上找过几处资料，从中选取了最简捷的搭建方法记录如下。更多的资料可以查阅 hexo "),e("a",{attrs:{href:"https://hexo.io/zh-cn/docs/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方文档"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("h3",{attrs:{id:"安装前提"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装前提"}},[t._v("#")]),t._v(" 安装前提")]),t._v(" "),e("p",[t._v("hexo 基于 Node.js，并且我们想要将博客部署在 GitHub 上，于是我们需要先安装 "),e("a",{attrs:{href:"http://nodejs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Node.js"),e("OutboundLink")],1),t._v(" 以及 "),e("a",{attrs:{href:"http://git-scm.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Git"),e("OutboundLink")],1),t._v("。\n当然，我们还需要申请一个 GitHub 账号，因为我们的网站域名将会是由GitHub按照我们的用户名分配给我们的，比如我的注册用户名是 musheng66，那么我的个人域名就是 "),e("a",{attrs:{href:"https://musheng66.github.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://musheng66.github.io/"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("h3",{attrs:{id:"安装-hexo"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装-hexo"}},[t._v("#")]),t._v(" 安装 hexo")]),t._v(" "),e("p",[t._v("hexo 的安装非常简单，如果我们已经安装好了 Node.js，我们就可以打开命令行，只需一行命令：")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -g hexo-cli\n")])])]),e("p",[t._v("当然 Mac 用户朋友们可能由于权限限制，需要输入：")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -g hexo-cli\n")])])]),e("p",[t._v("安装完成。")]),t._v(" "),e("h3",{attrs:{id:"建站"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#建站"}},[t._v("#")]),t._v(" 建站")]),t._v(" "),e("p",[t._v("安装 Hexo 完成后，请执行下列命令，Hexo 将会在指定文件夹中新建所需要的文件。")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ hexo init "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("要建立的项目文件夹，如：blog"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n$ "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" blog\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n")])])]),e("h3",{attrs:{id:"命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#命令"}},[t._v("#")]),t._v(" 命令")]),t._v(" "),e("p",[t._v("通过命令行可以执行hexo的各项命令，完成从建站到发布所需的操作。")]),t._v(" "),e("h4",{attrs:{id:"new"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#new"}},[t._v("#")]),t._v(" new")]),t._v(" "),e("p",[t._v("新建博客，hexo 会自行生成一个对应名称的 .md 文件。需要注意的是如果想删除博客，可以直接删除 .md 文件并重新 generate 博客站。")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ hexo new 博客名称\n")])])]),e("h4",{attrs:{id:"generate"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#generate"}},[t._v("#")]),t._v(" generate")]),t._v(" "),e("p",[t._v("生成静态文件，可以生成我们的 hexo 博客网站。")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ hexo g\n")])])]),e("h4",{attrs:{id:"clean"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#clean"}},[t._v("#")]),t._v(" clean")]),t._v(" "),e("p",[t._v("清除已生成的静态文件，每次需要重新生成网站之前运行。")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ hexo clean\n")])])]),e("h4",{attrs:{id:"server"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#server"}},[t._v("#")]),t._v(" server")]),t._v(" "),e("p",[t._v("用来查看本机的 hexo 博客项目，需要先进行 clean，generate 操作再运行。需要注意的是如果只修改了博客内容，是不需要重新生成网站的，而修改了其他的诸如主题、博客标题、模版样式、资源文件等需要重新 generate 之后才能看到效果。")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ hexo server\n")])])]),e("h4",{attrs:{id:"deploy"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#deploy"}},[t._v("#")]),t._v(" deploy")]),t._v(" "),e("p",[t._v("部署到 GitHub，下文将介绍具体的步骤。（注：目录中的 .deploy_git 文件夹中的内容就是将要部署的内容）")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ hexo deploy\n")])])]),e("h3",{attrs:{id:"与-github-进行关联"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#与-github-进行关联"}},[t._v("#")]),t._v(" 与 GitHub 进行关联")]),t._v(" "),e("p",[t._v("我们需要将目前的 hexo 项目与我们 GitHub 个人账号中的一个 repository 进行关联，这样我们每次只需要一个 deploy 命令，就可以将新写的博客发到我们的个人博客站上了。")]),t._v(" "),e("h4",{attrs:{id:"建立-github-repository"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#建立-github-repository"}},[t._v("#")]),t._v(" 建立 GitHub repository")]),t._v(" "),e("p",[t._v("使用 GitHub 账号登录后，建立一个属于自己的 repository 非常容易，"),e("strong",[t._v("我们需要注意的是 repository 的命名必须和我们被分配的域名相同")]),t._v("，比如我的 repository 就需要命名为 musheng66.github.io，这一点非常重要。")]),t._v(" "),e("h4",{attrs:{id:"配置与发布"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置与发布"}},[t._v("#")]),t._v(" 配置与发布")]),t._v(" "),e("p",[t._v("在我们的整个 hexo 项目中，"),e("strong",[t._v("_config.yml")]),t._v(" 是配置文件，我们可以在其中修改各种可配置的网站属性。现在我们需要将本地的 hexo 项目与 GitHub 上的 repository 进行关联。\n我们需要找到 _config.yml 中的 deploy 属性，将其设置如下：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("deploy:\n  type: git\n  repository: https://github.com/musheng66/musheng66.github.io.git\n  branch: master\n")])])]),e("p",[e("strong",[t._v("注意")]),t._v("：repository 属性需要填写"),e("strong",[t._v("我们自己的 repository 对应的地址")]),t._v("。修改完成后，我们每次使用 deploy 命令即可发布新的博客。至此，使用 hexo + GitHub 搭建博客的简要过程就介绍完了。")]),t._v(" "),e("h2",{attrs:{id:"踩过的坑"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#踩过的坑"}},[t._v("#")]),t._v(" 踩过的坑")]),t._v(" "),e("h3",{attrs:{id:"页面引入-jquery-的问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#页面引入-jquery-的问题"}},[t._v("#")]),t._v(" 页面引入 jQuery 的问题")]),t._v(" "),e("p",[t._v("使用默认主题 landscape 生成的主页面 index.html 会引入 jQuery 文件，而引入的语句通常是这样的：")]),t._v(" "),e("div",{staticClass:"language-html extra-class"},[e("pre",{pre:!0,attrs:{class:"language-html"}},[e("code",[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token script"}}),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),e("p",[t._v("目前我们的 GFW 显然不会放任我们访问这样的站点，所以这会导致我们的博客无法正常渲染 jQuery 相关的动效和功能。")]),t._v(" "),e("p",[t._v("想要解决这个问题也并不复杂，只需要找到当前实用的主题文件夹，在其layout文件夹中找到写有引入 jQuery 文件的位置。对于使用 hexo 默认方法搭建博客的开发者来说，此位置一般在 themes/landscape/layout/_partial/after-footer.ejs。我们只需在此处将引入 jQuery 的地址替换为国内可访问的镜像，或者索性下载一份 jQuery 代码放入此主题的 source/js 文件夹中再行引用即可。")]),t._v(" "),e("p",[t._v("其实大部分的自定义主题都会将这种地址配置在 config.yml 中，比如我使用的 Material 主题即可以在配置文件中配置引入 jQuery 的地址，故此我只需要将其修改即可（附上我使用的 CDN ："),e("a",{attrs:{href:"https://cdn.bootcss.com/jquery/2.2.0/jquery.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://cdn.bootcss.com/jquery/2.2.0/jquery.js"),e("OutboundLink")],1),t._v("）。")]),t._v(" "),e("p",[t._v("补充一点，我们需要注意此处引用的 jQuery 是 http 协议的外部资源，而我们的项目部署在 GitHub 上，GitHub 使用的 https 协议是无法加载 http 协议的资源的。好在我们引用的时候并没有指定协议，在 URL 之前的"),e("code",[t._v("//")]),t._v("使用了当前协议，因此外部资源可以正常引入。")]),t._v(" "),e("h3",{attrs:{id:"使用-material-主题时出现的问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用-material-主题时出现的问题"}},[t._v("#")]),t._v(" 使用 Material 主题时出现的问题")]),t._v(" "),e("p",[t._v("众所周知，"),e("a",{attrs:{href:"https://github.com/viosey/hexo-theme-material",target:"_blank",rel:"noopener noreferrer"}},[t._v("Material"),e("OutboundLink")],1),t._v(" 主题是一款非常漂亮的 hexo 主题，不过我们在第一次使用它时可能也会出现一些小问题。")]),t._v(" "),e("h4",{attrs:{id:"hexo-g-报错问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#hexo-g-报错问题"}},[t._v("#")]),t._v(" hexo g 报错问题")]),t._v(" "),e("p",[t._v("虽然 hexo g 报错可能有各种原因，但大家在第一次使用 Material 主题时最容易导致报错的原因大概会是这样：")]),t._v(" "),e("blockquote",[e("p",[t._v("注意！ 在主题的开发迭代过程中，主题的配置文件模板 可能会改动。为了避免使用 git pull 更新主题的用户出现冲突，我们将 主题配置文件模板 命名为 _config.template.yml。配置主题时，你应该拷贝一份 _config.template.yml 并将其重命名为 _config.yml。")])]),t._v(" "),e("p",[t._v("这是 Material 主题使用说明中的一段，正因为它将 _config 配置文件改了名字，我们在 hexo g 时才会报类似这样的错：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("Unhandled rejection TypeError: /Users/musheng/Projects/WebstormProjects/blog/themes/material/layout/post.ejs:44\n    42|                 \x3c!-- Post Comments --\x3e\n    43|                 <% if(page.comment !== false) { %>\n >> 44|                     <%- partial('_partial/comment') %>\n    45|                 <% } %>\n    45|                 <% } %>\n")])])]),e("p",[t._v("所以对于这个问题，我们只需要"),e("strong",[t._v("拷贝一份 _config.template.yml 并将其重命名为 _config.yml")]),t._v("就可以解决了。")]),t._v(" "),e("h4",{attrs:{id:"本地搜索问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#本地搜索问题"}},[t._v("#")]),t._v(" 本地搜索问题")]),t._v(" "),e("p",[t._v("使用 Material 主题时，如果我们想使用本地搜索而非 Google 或其他搜索该如何设置呢？")]),t._v(" "),e("p",[t._v("首先，使用本地搜索需要安装 "),e("a",{attrs:{href:"https://github.com/PaicHyperionDev/hexo-generator-search",target:"_blank",rel:"noopener noreferrer"}},[t._v("hexo-generator-search"),e("OutboundLink")],1),t._v(" 插件。")]),t._v(" "),e("p",[t._v("然后，我们需要在项目根目录下找到 _config.yml 文件，在里面添加：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("# Native Search\n## https://github.com/PaicHyperionDev/hexo-generator-search\nsearch:\n    path: search.xml\n    field: all\n")])])]),e("p",[t._v("另外，因为 Material 主题的配置文件中对搜索可能也有配置，我们还需要找到主题中的配置，"),e("strong",[t._v("修改 use 为 local")]),t._v(" ：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("# Search Systems\n# Available value:\n#     swiftype | google | local\nsearch:\n    use: local\n    swiftype_key:\n")])])]),e("h2",{attrs:{id:"参考资料"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[t._v("#")]),t._v(" 参考资料")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://hexo.io/zh-cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Hexo 官方"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"https://material.viosey.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Material 主题"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"https://www.qcloud.com/community/article/989575001490326243",target:"_blank",rel:"noopener noreferrer"}},[t._v("使用 Github 和 Hexo 快速搭建个人博客"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"http://baixin.io/2015/08/HEXO%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/",target:"_blank",rel:"noopener noreferrer"}},[t._v("HEXO搭建个人博客"),e("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=s.exports}}]);